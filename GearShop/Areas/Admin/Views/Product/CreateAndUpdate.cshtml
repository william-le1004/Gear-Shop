@model ProductVM

<section class="section">
    <div class="row">
        <div class="col-12">

            <div class="card">
                <div class="card-title text-center mt-3">
                    <h3> @(Model.product.Id != 0 ? "Update" : "Create") Product</h3>
                </div>
                <div class="card-body">
                    <form method="post" class="row" enctype="multipart/form-data">

                        <input asp-for="product.Id" hidden/>
                        <input asp-for="product.ImgUrl" hidden/>

                        <div class="form-group py-2 ">
                            <label asp-for="product.Name">Name:</label>
                            <input asp-for="product.Name" class="form-control"
                                   placeholder="Enter Product Name" autocomplete="off">
                            <span asp-validation-for="product.Name" class="text-danger"></span>
                        </div>
                        <div class="form-group py-2 ">
                            <label asp-for="product.Price">Price:</label>
                            <input asp-for="product.Price" class="form-control"
                                   placeholder="Enter Product Price" autocomplete="off">
                            <span asp-validation-for="product.Price" class="text-danger"></span>
                        </div>
                        <div class="form-group py-2 ">
                            <label class="form-label" asp-for="product.Description">Description:</label>
                            <textarea asp-for="product.Description" class="form-control" rows="5" autocomplete="off"></textarea>

                        </div>
                        <div class="form-group py-2 ">
                            <label asp-for="product.Stock">Quantity:</label>
                            <input asp-for="product.Stock" class="form-control " autocomplete="off">
                            <span asp-validation-for="product.Stock" class="text-danger"></span>
                        </div>
                        <div class="form-group py-4 ">
                            <label asp-for="product.Category">Category:</label>
                            <select asp-for="@Model.product.CategoryId" asp-items="@Model.CategoryList">
                                <option disabled selected>--Select Category--</option>
                            </select>
                            <span asp-validation-for="product.CategoryId" class="text-danger"></span>

                        </div>

                        <div class="d-flex justify-content-center">

                            <div class="form-group py-2 col-6 mx-auto">

                                <label asp-for="product.ImgUrl" class="">Product Image:</label>
                                <input type="file" name="file" accept="image/x-png,image/gif,image/jpeg,image/webp" class="form-control border-3" autocomplete="off">

                            </div>
                            <div class="form-group py-2 col-6 mx-auto d-flex">
                                <img src="@Model.product.ImgUrl" width="50%"
                                     style="border-radius:5px; border:1px solid #bbb9b9" class="m-auto"/>
                            </div>
                        </div>

                        <div class="d-flex justify-content-center">
                            <div class="col-6 col-md-3 py-5 mx-auto">
                                @if (Model.product.Id != 0)
                                {
                                    <button class="btn btn-dark form-control rounded-4 shadow " type="submit">
                                        Update
                                        Product
                                    </button>
                                }
                                else
                                {
                                    <button class="btn btn-dark form-control rounded-4 shadow " type="submit">
                                        Add
                                        Product
                                    </button>
                                }

                            </div>
                            <div class="col-6 col-md-3 py-5 mx-auto">
                                <a asp-controller="Product" asp-action="Index" class="btn btn-secondary form-control d-block rounded-4 shadow ">
                                    Back to List
                                </a>
                            </div>
                        </div>
                    </form>
                </div>
            </div>

        </div>
    </div>
</section>

@section Scripts{
    @{
        <partial name="_ValidationScriptsPartial"/>
    }
}